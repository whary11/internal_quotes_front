import{g as k}from"./assets-fbb44cfd.js";import{d as x,ak as y,al as S,aj as A,ar as B,aq as C,z as F,u as P,_ as L,r as c,N as V,f as u,p as i,w as b,o as f,k as s,l as r,H as l,A as $}from"./index-6eab465e.js";import{S as g}from"./sweetalert2-446d02c0.js";import{c as E,a as _}from"./index.esm-456acaa3.js";const N=x({name:"sign-in",components:{Field:y,VForm:S,ErrorMessage:A},setup(){const t=B(),d=C(),o=F(null),m=E().shape({email:_().email().required().label("Email"),password:_().min(4).required().label("Password")});return{onSubmitLogin:async e=>{var a;e=e,t.logout(),o.value&&(o.value.disabled=!0,o.value.setAttribute("data-kt-indicator","on")),await t.login(e);const n=Object.values(t.errors);n.length===0?g.fire({text:"You have successfully logged in!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then(()=>{d.push({name:"dashboard"})}):g.fire({text:n[0],icon:"error",buttonsStyling:!1,confirmButtonText:"Try again!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}).then(()=>{t.errors={}}),(a=o.value)==null||a.removeAttribute("data-kt-indicator"),o.value.disabled=!1},login:m,submitButton:o,getAssetPath:k,translate:e=>{const{t:n,te:a}=P();return a(e)?n(e):e}}}}),T={class:"w-lg-500px p-10"},q={class:"text-center mb-10"},D={class:"text-dark mb-3"},I={class:"fv-row mb-10"},M={class:"form-label fs-6 fw-bold text-dark"},j={class:"fv-plugins-message-container"},O={class:"fv-help-block"},z={class:"fv-row mb-10"},G={class:"d-flex flex-stack mb-2"},H={class:"form-label fw-bold text-dark fs-6 mb-0"},R={class:"fv-plugins-message-container"},Y={class:"fv-help-block"},J={class:"text-center"},K={tabindex:"3",type:"submit",ref:"submitButton",id:"kt_sign_in_submit",class:"btn btn-lg btn-primary w-100 mb-5"},Q={class:"indicator-label"},U=s("span",{class:"indicator-progress"},[l(" Please wait... "),s("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),W={class:"text-center text-muted text-uppercase fw-bold mb-5"},X={href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100 mb-5"},Z=["src"],ss={href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100 mb-5"},ts=["src"],es={href:"#",class:"btn btn-flex flex-center btn-light btn-lg w-100"},os=["src"];function ns(t,d,o,m,p,h){const e=c("Field"),n=c("ErrorMessage"),a=c("router-link"),v=c("VForm"),w=V("permission");return f(),u("div",T,[i(v,{class:"form w-100",id:"kt_login_signin_form",onSubmit:t.onSubmitLogin,"validation-schema":t.login,"initial-values":{email:"admin@demo.com",password:"demo"}},{default:b(()=>[s("div",q,[s("h1",D,r(t.translate("signIn")),1)]),s("div",I,[s("label",M,r(t.translate("email")),1),i(e,{tabindex:"1",class:"form-control form-control-lg form-control-solid",type:"text",name:"email",autocomplete:"off"}),s("div",j,[s("div",O,[i(n,{name:"email"})])])]),s("div",z,[s("div",G,[s("label",H,r(t.translate("password")),1),i(a,{to:"/password-reset",class:"link-primary fs-6 fw-bold"},{default:b(()=>[l(r(t.translate("forgotPassword"))+" ? ",1)]),_:1})]),i(e,{tabindex:"2",class:"form-control form-control-lg form-control-solid",type:"password",name:"password",autocomplete:"off"}),s("div",R,[s("div",Y,[i(n,{name:"password"})])])]),s("div",J,[s("div",null,[$((f(),u("button",K,[s("span",Q,r(t.translate("continue")),1),U])),[[w,{permissions:["test_permission"],documentation:"Permiso de prueba"}]])]),s("div",W,r(t.translate("or")),1),s("a",X,[s("img",{alt:"Logo",src:t.getAssetPath("media/svg/brand-logos/google-icon.svg"),class:"h-20px me-3"},null,8,Z),l(" Continue with Google ")]),s("a",ss,[s("img",{alt:"Logo",src:t.getAssetPath("media/svg/brand-logos/facebook-4.svg"),class:"h-20px me-3"},null,8,ts),l(" Continue with Facebook ")]),s("a",es,[s("img",{alt:"Logo",src:t.getAssetPath("media/svg/brand-logos/apple-black.svg"),class:"h-20px me-3"},null,8,os),l(" Continue with Apple ")])])]),_:1},8,["onSubmit","validation-schema","initial-values"])])}const cs=L(N,[["render",ns]]);export{cs as default};
