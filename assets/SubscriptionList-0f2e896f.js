import{g as S}from"./assets-fbb44cfd.js";import{D as w}from"./KTDataTable-15d45d33.js";import{a as M}from"./index-6be17798.js";import{d as k,z as g,v as B,M as A,_ as E,r as f,f as _,k as s,p as r,A as x,B as I,H as c,w as n,l as u,o as D,n as P}from"./index-6eab465e.js";const N=k({name:"kt-subscription-list",components:{KTDatatable:w},setup(){const e=g([{id:1,customer:"Emma Smith",status:"Active",color:"success",billing:"Auto-debit",product:"Basic",createdDate:"Oct 25, 2021"},{id:2,customer:"Melody Macy",status:"Active",color:"success",billing:"Manual - Credit Card",product:"Basic",createdDate:"Mar 10, 2021"},{id:3,customer:"Max Smith",status:"Active",color:"primary",billing:"Manual - Cash",product:"Teams Bundle",createdDate:"Jul 25, 2021"},{id:4,customer:"Sean Bean",status:"Expiring",color:"warning",billing:"Manual - Paypal",product:"Enterprise",createdDate:"Aug 19, 2021"},{id:5,customer:"Brian Cox",status:"Expiring",color:"warning",billing:"Auto-debit",product:"Basic",createdDate:"May 05, 2021"},{id:6,customer:"Mikaela Collins",status:"Active",color:"success",billing:"Auto-debit",product:"Enterprise Bundle",createdDate:"Aug 19, 2021"},{id:7,customer:"Francis Mitcham",status:"Active",color:"success",billing:"Auto-debit",product:"Teams",createdDate:"Jun 20, 2021"},{id:8,customer:"Olivia Wild",status:"Suspended",color:"danger",billing:"--",product:"Enterprise",createdDate:"Jun 24, 2021"},{id:9,customer:"Neil Owen",status:"Expiring",color:"warning",billing:"Auto-debit",product:"Basic",createdDate:"Aug 19, 2021"},{id:10,customer:"Dan Wilson",status:"Active",color:"success",billing:"Auto-debit",product:"Enterprise Bundle",createdDate:"Feb 21, 2021"},{id:11,customer:"Emma Bold",status:"Active",color:"success",billing:"Manual - Credit Card",product:"Enterprise",createdDate:"May 05, 2021"},{id:12,customer:"Ana Crown",status:"Active",color:"success",billing:"Manual - Credit Card",product:"Basic",createdDate:"Jun 24, 2021"},{id:13,customer:"Robert Doe",status:"Suspended",color:"danger",billing:"--",product:"Teams Bundle",createdDate:"Jul 25, 2021"},{id:14,customer:"John Miller",status:"Active",color:"success",billing:"Manual - Paypal",product:"Enterprise",createdDate:"Sep 22, 2021"},{id:15,customer:"Lucy Kunic",status:"Active",color:"success",billing:"Manual - Credit Card",product:"Basic",createdDate:"Nov 10, 2021"},{id:16,customer:"Neil Owen",status:"Suspended",color:"danger",billing:"--",product:"Basic Bundle",createdDate:"Jun 20, 2021"},{id:17,customer:"Dan Wilson",status:"Expiring",color:"warning",billing:"Manual - Paypal",product:"Enterprise",createdDate:"May 05, 2021"},{id:18,customer:"Emma Smith",status:"Active",color:"success",billing:"Auto-debit",product:"Teams",createdDate:"Apr 15, 2021"},{id:19,customer:"Melody Macy",status:"Active",color:"success",billing:"Manual - Credit Card",product:"Basic",createdDate:"Oct 25, 2021"},{id:20,customer:"Max Smith",status:"Suspended",color:"danger",billing:"--",product:"Basic Bundle",createdDate:"Feb 21, 2021"}]),i=g([{columnName:"Customer",columnLabel:"customer",sortEnabled:!0},{columnName:"Status",columnLabel:"status",sortEnabled:!0},{columnName:"Billing",columnLabel:"billing",sortEnabled:!0},{columnName:"Product",columnLabel:"product",sortEnabled:!0},{columnName:"Created Date",columnLabel:"createdDate",sortEnabled:!0},{columnName:"Actions",columnLabel:"actions"}]),l=g([]);B(()=>{l.value.splice(0,e.value.length,...e.value)});const m=g([]),y=()=>{m.value.forEach(a=>{h(a)}),m.value.length=0},h=a=>{for(let o=0;o<e.value.length;o++)e.value[o].id===a&&e.value.splice(o,1)},d=a=>{const o=a.order==="asc";a.label&&M(e.value,a.label,{reverse:o})},p=a=>{m.value=a},b=g(""),t=()=>{if(e.value.splice(0,e.value.length,...l.value),b.value!==""){let a=[];for(let o=0;o<l.value.length;o++)C(l.value[o],b.value)&&a.push(l.value[o]);e.value.splice(0,e.value.length,...a)}A.reinitialization()},C=(a,o)=>{for(let v in a)if(!Number.isInteger(a[v])&&typeof a[v]!="object"&&a[v].toLowerCase().indexOf(o.toLowerCase())!=-1)return!0;return!1};return{search:b,searchItems:t,data:e,headerConfig:i,sort:d,onItemSelect:p,selectedIds:m,deleteFewSubscriptions:y,deleteSubscription:h,getAssetPath:S,onItemsPerPageChange:()=>{setTimeout(()=>{A.reinitialization()},0)}}}}),O={class:"card"},T={class:"card-header border-0 pt-6"},L={class:"card-title"},$={class:"d-flex align-items-center position-relative my-1"},J={class:"card-toolbar"},F={key:0,class:"d-flex justify-content-end","data-kt-subscription-table-toolbar":"base"},K={type:"button",class:"btn btn-light-primary me-3","data-bs-toggle":"modal","data-bs-target":"#kt_subscriptions_export_modal"},V={key:1,class:"d-flex justify-content-end align-items-center"},z={class:"fw-bold me-5"},W={class:"me-2"},j={class:"card-body pt-0"},H={href:"#",class:"text-gray-600 text-hover-primary mb-1"},R={class:"badge badge-light"},U={href:"#",class:"btn btn-sm btn-light btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end"},q={class:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semobold fs-7 w-125px py-4","data-kt-menu":"true"},G={class:"menu-item px-3"},Q={class:"menu-item px-3"},X=["onClick"];function Y(e,i,l,m,y,h){const d=f("KTIcon"),p=f("router-link"),b=f("KTDatatable");return D(),_("div",O,[s("div",T,[s("div",L,[s("div",$,[r(d,{"icon-name":"magnifier","icon-class":"fs-1 position-absolute ms-6"}),x(s("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>e.search=t),onInput:i[1]||(i[1]=t=>e.searchItems()),type:"text","data-kt-subscription-table-filter":"search",class:"form-control form-control-solid w-250px ps-14",placeholder:"Search Subscriptions"},null,544),[[I,e.search]])])]),s("div",J,[e.selectedIds.length===0?(D(),_("div",F,[s("button",K,[r(d,{"icon-name":"exit-up","icon-class":"fs-2"}),c(" Export ")]),r(p,{to:"/apps/subscriptions/add-subscription",class:"btn btn-primary"},{default:n(()=>[r(d,{"icon-name":"plus","icon-class":"fs-2"}),c(" Add Subscription ")]),_:1})])):(D(),_("div",V,[s("div",z,[s("span",W,u(e.selectedIds.length),1),c("Selected ")]),s("button",{type:"button",class:"btn btn-danger",onClick:i[2]||(i[2]=t=>e.deleteFewSubscriptions())}," Delete Selected ")]))])]),s("div",j,[r(b,{onOnSort:e.sort,onOnItemsSelect:e.onItemSelect,onOnItemsPerPageChange:e.onItemsPerPageChange,data:e.data,header:e.headerConfig,"checkbox-enabled":!0},{customer:n(({row:t})=>[r(p,{to:"/apps/subscriptions/view-subscription",href:"",class:"text-gray-800 text-hover-primary mb-1"},{default:n(()=>[c(u(t.customer),1)]),_:2},1024)]),status:n(({row:t})=>[s("a",H,[s("div",{class:P(`badge badge-light-${t.color}`)},u(t.status),3)])]),billing:n(({row:t})=>[s("div",R,u(t.billing),1)]),product:n(({row:t})=>[c(u(t.product),1)]),createdDate:n(({row:t})=>[c(u(t.createdDate),1)]),actions:n(({row:t})=>[s("a",U,[c("Actions "),r(d,{"icon-name":"down","icon-class":"fs-5 m-0"})]),s("div",q,[s("div",G,[r(p,{to:"/apps/customers/customer-details",class:"menu-link px-3"},{default:n(()=>[c("View")]),_:1})]),s("div",Q,[s("a",{onClick:C=>e.deleteSubscription(t.id),class:"menu-link px-3"},"Delete",8,X)])])]),_:1},8,["onOnSort","onOnItemsSelect","onOnItemsPerPageChange","data","header"])])])}const oe=E(N,[["render",Y]]);export{oe as default};
